<!DOCTYPE html>
<html>
	<head>
		<title>L.G. Rewrite</title>
		<link href="http://netdna.bootstrapcdn.com/bootstrap/3.0.0-rc2/css/bootstrap.min.css" rel="stylesheet">
		<link href="http://netdna.bootstrapcdn.com/font-awesome/4.0.3/css/font-awesome.css" rel="stylesheet">
		<link rel="stylesheet" type="text/css" href="css/lg.css">
	</head>
	<body>
		<nav class="navbar navbar-default" role="navigation">
            <ul class="nav navbar-nav">
                <li><a href="#">Local Ground</a></li>
            </ul>
        </nav>
		<div id="map_canvas"></div>
		<div id="panels"></div>
		
		
		<script type="text/javascript" src="https://maps.googleapis.com/maps/api/js?sensor=false&v=3.11&libraries=drawing,places,geometry"></script>
		<script src="js/lib/external/require.js"></script>
		<script>
			/*http://blog.novanet.no/4-ways-to-pass-parameters-to-requirejs-modules/
			 *Because we want the Django template to initialize a fair amount of the
			 *data, we're initializing the require.js configuration in the template itself.
			*/
			require.config({
				baseUrl: "js",
				paths: {
					'jquery': 'lib/external/jquery-1.11.1.min',
					'text': 'lib/external/text',
					"jquery.bootstrap": "//maxcdn.bootstrapcdn.com/bootstrap/3.2.0/js/bootstrap.min"
				},
				shim: {
					'lib/external/underscore-min': {
						exports: '_'
					},
					'lib/external/backbone-min': {
						deps: ["lib/external/underscore-min", "jquery"],
						exports: 'Backbone'
					},
					"jquery.bootstrap": {
						deps: ["jquery"]
					}
				},
				urlArgs: "bust=" + (new Date()).getTime()
			});
			require(
				["jquery", "jquery.bootstrap", "views/mapEditor"],
				function($, bootstrap, MapEditor) {
					$(function() {
						new MapEditor({
							overlays: [
								{"sourceName": "mapbox", "max": 19, "is_printable": true, "providerID": "lg.i1p5alka", "id": 1, "typeID": 1, "name": "Mapnik", "min": 1, "url": "", "sourceID": 1, "type": "Base Tileset"},
								{"sourceName": "google", "max": 20, "is_printable": true, "providerID": "roadmap", "id": 2, "typeID": 1, "name": "Roadmap", "min": 1, "url": "http://maps.google.com/maps/api/staticmap?sensor=false&maptype=roadmap&style=feature:poi.school|element:geometry|saturation:-79|lightness:75", "sourceID": 5, "type": "Base Tileset"},
								{"sourceName": "google", "max": 20, "is_printable": true, "providerID": "hybrid", "id": 3, "typeID": 1, "name": "Hybrid", "min": 1, "url": "http://maps.google.com/maps/api/staticmap?sensor=false&maptype=hybrid", "sourceID": 5, "type": "Base Tileset"},
								{"sourceName": "google", "max": 20, "is_printable": true, "providerID": "terrain", "id": 4, "typeID": 1, "name": "Terrain", "min": 1, "url": "http://maps.google.com/maps/api/staticmap?sensor=false&maptype=terrain", "sourceID": 5, "type": "Base Tileset"},
								{"sourceName": "google", "max": 20, "is_printable": true, "providerID": "satellite", "id": 9, "typeID": 1, "name": "Satellite", "min": 1, "url": "http://maps.google.com/maps/api/staticmap?sensor=false&maptype=satellite", "sourceID": 5, "type": "Base Tileset"},
								{"sourceName": "mapbox", "max": 19, "is_printable": true, "providerID": "lg.i1p2e2cf", "id": 12, "typeID": 1, "name": "Grayscale", "min": 1, "url": "", "sourceID": 1, "type": "Base Tileset"},
								{"sourceName": "stamen", "max": 20, "is_printable": false, "providerID": "watercolor", "id": 20, "typeID": 1, "name": "Watercolor", "min": 1, "url": "", "sourceID": 6, "type": "Base Tileset"}
							],
							activeMapTypeID: 4,
							defaultLocation: {
								center: new google.maps.LatLng(40.91351257612757, -123.4423828125),
								zoom: 13
							}
						});
					});
				}
			);
		</script>
		
	</body>
</html>

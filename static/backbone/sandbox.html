<!DOCTYPE html>
<html>
	<head>
		<title>L.G. Sandbox Rewrite</title>
		<link href="http://netdna.bootstrapcdn.com/bootstrap/3.0.0-rc2/css/bootstrap.min.css" rel="stylesheet">
		<link href="http://netdna.bootstrapcdn.com/font-awesome/4.0.3/css/font-awesome.css" rel="stylesheet">
		<link rel="stylesheet" type="text/css" href="http://cdn.jsdelivr.net/jquery.slick/1.3.7/slick.css"/>
		<link rel="stylesheet" type="text/css" href="css/lg.css">
		<link rel="stylesheet" type="text/css" href="css/map.css">
		<style>
			body { overflow: hidden; }
		</style>
	</head>
	<body>
		<nav class="navbar navbar-default" role="navigation">
            <ul class="nav navbar-nav">
                <li><a href="#">Local Ground</a></li>
            </ul>
        </nav>
		<div id="map_canvas"></div>
		<div id="panels"></div>
		
		<script type="text/javascript" src="https://maps.googleapis.com/maps/api/js?sensor=false&v=3.11&libraries=drawing,places,geometry"></script>
		<script src="js/external/require.js"></script>
		<script src="js/api/base.js"></script>
		<script>
			require([
					"jquery",
					"jquery.bootstrap",
					"core",
					"sandbox",
					"views/maps/basemap",
				    "lib/maps/managers/dataManager",
					"views/maps/sidepanel/dataPanel",
					"views/maps/overlays/overlayManager",
					"views/maps/overlays/bubbleManager",
					"lib/maps/controls/deleteMenu"
				   ],
				function($, bootstrap, CORE, Sandbox) {
					var basemapOpts = {
						mapContainerID: "map_canvas",
						defaultLocation: {
							center: new google.maps.LatLng(40.91351257612757, -123.4423828125),
							zoom: 11
						},
						includeSearchControl: true,
						includeGeolocationControl: false,
						activeMapTypeID: 4,
						overlays: [
							{"sourceName": "mapbox", "max": 19, "is_printable": true, "providerID": "lg.i1p5alka", "id": 1, "typeID": 1, "name": "Mapnik", "min": 1, "url": "", "sourceID": 1, "type": "Base Tileset"},
							{"sourceName": "google", "max": 20, "is_printable": true, "providerID": "roadmap", "id": 2, "typeID": 1, "name": "Roadmap", "min": 1, "url": "http://maps.google.com/maps/api/staticmap?sensor=false&maptype=roadmap&style=feature:poi.school|element:geometry|saturation:-79|lightness:75", "sourceID": 5, "type": "Base Tileset"},
							{"sourceName": "google", "max": 20, "is_printable": true, "providerID": "hybrid", "id": 3, "typeID": 1, "name": "Hybrid", "min": 1, "url": "http://maps.google.com/maps/api/staticmap?sensor=false&maptype=hybrid", "sourceID": 5, "type": "Base Tileset"},
							{"sourceName": "google", "max": 20, "is_printable": true, "providerID": "terrain", "id": 4, "typeID": 1, "name": "Terrain", "min": 1, "url": "http://maps.google.com/maps/api/staticmap?sensor=false&maptype=terrain", "sourceID": 5, "type": "Base Tileset"},
							{"sourceName": "google", "max": 20, "is_printable": true, "providerID": "satellite", "id": 9, "typeID": 1, "name": "Satellite", "min": 1, "url": "http://maps.google.com/maps/api/staticmap?sensor=false&maptype=satellite", "sourceID": 5, "type": "Base Tileset"},
							{"sourceName": "mapbox", "max": 19, "is_printable": true, "providerID": "lg.i1p2e2cf", "id": 12, "typeID": 1, "name": "Grayscale", "min": 1, "url": "", "sourceID": 1, "type": "Base Tileset"},
							{"sourceName": "stamen", "max": 20, "is_printable": false, "providerID": "watercolor", "id": 20, "typeID": 1, "name": "Watercolor", "min": 1, "url": "", "sourceID": 6, "type": "Base Tileset"}
						]
					};
					CORE.create_module("basemap", localground.maps.views.Basemap, basemapOpts);
					CORE.create_module("data-manager", localground.maps.managers.DataManager);
					CORE.create_module("data-panel", localground.maps.views.DataPanel);
					CORE.create_module("overlay-manager", localground.maps.views.OverlayManager);
					CORE.create_module("bubble-manager", localground.maps.views.BubbleManager);
					CORE.create_module("delete-menu", localground.maps.controls.DeleteMenu);
					
					CORE.start_all();
				}
			);
		</script>
		
	</body>
</html>

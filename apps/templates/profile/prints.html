{% extends "profile/data_list.html" %}
{% block page_title %}Prints <small>{{selected_project|default_if_none:"Everything"}}</small>{% endblock %}
{% block script_links %}
	{{ block.super }}
    <script type="text/javascript" src="/static/scripts/site/account/profile.js"></script>
    <script type="text/javascript" src="/static/scripts/site/account/prints.js"></script>
{% endblock %}
{% block extra_styles %}
	{{block.super}}
	input[type=text], textarea { width: 190px !important; }
	select { width: 200px !important; }
	li span { color: #386CB0 !important; }
{% endblock %}


{% block extra_scripts %}
    var o = new localground.prints();
{% endblock %}
{% block pageload_scripts %}
	var opts = {
        username: '{{user.username}}',
		updateURL: '{{raw_url}}',
		pageURL: '{% autoescape off %}{{url}}{% endautoescape %}&page={{page}}',
		rawURL: '{{raw_url}}',
		deleteURL: '{{raw_url}}delete-selected/',
		moveURL: '{{raw_url}}move-project/',
		project_id: '{{selected_project_id}}'
	};
	
	{% if username %}
		opts.alias = '{{username}}';
	{% endif %}
    o.initialize(opts);
{% endblock %}

{% block hidden_form_fields %}
	{{ block.super }}
{% endblock %}

{% block controls_menus %}
	<li class="dropdown" data-dropdown="dropdown" style="width:100px;">
		<a href="#" class="dropdown-toggle" data-toggle="dropdown">Options</a>
		<ul class="dropdown-menu">
			<li><a id="delete_objects" href="#">Delete</a></li>
			<li><a id="add_object" href="#">Upload</a></li>
			<li><a id="move_project" href="#">Move to another project</a></li>
		</ul>
	</li>
{% endblock %}

{% block row_header %}
	<tr>
		<th scope="col" class="column-cb" >
			<input class="checkall" type="checkbox" name="checkall"/>
		</th>
		<th scope="col">Image</th>
		<th scope="col">Name</th>
		<th scope="col">Map Info</th>
	</tr>
{% endblock %}

{% block rows %}
	{% for o in objects.object_list %}
		<tr>
			<td>
				<input class="checkone" id="cb_{{o.id}}" name="id" type="checkbox" value="{{o.id}}" />
			</td>
			<td>
                <img class="thumb" style="max-width: 200px; max-height: 200px;"
                     src="{{o.thumb}}" />
                <input type="hidden" value="{{o.map}}">
				
			</td>
			<td>
				<div class="clearfix">
					<label>Name:</label>
					<div class="input">
						<input type="text" name="name_{{o.id}}" id="name_{{o.id}}"
						   value="{{ o.name|default_if_none:"" }}" style="width:140px" />
					</div>
				</div>
				<div class="clearfix">
					<label>Instructions:</label>
					<div class="input">
						<textarea name="description_{{o.id}}"
							style="width:150px; margin-top: 2px;" rows="3">{{ o.description|default_if_none:"" }}</textarea>
					</div>
				</div>
			</td>
			<td>
                <div class="thin">
					<label>ID:</label><div class="input blue">{{ o.uuid }}</div>
				</div>
				<div class="thin">
					<label>Last Updated:</label>
					<div class="input blue">
						on {{o.time_stamp|date:"n/j/Y P" }}<br />
						by {{ o.last_updated_by }}
					</div>
				</div>
				<div class="thin">
					<label>Owned by:</label><div class="input blue">{{  o.owner }}</div>
				</div>
				<div class="thin">
					<label>Re-Print:</label><div class="input blue"><a href="{{o.pdf}}">PDF</a></div>
				</div>
                {% comment %}
				<div class="thin">
					<label>Project:</label><div class="input blue">{{ selected_project.name }}</div>
				</div>
                {% endcomment %}
                <div class="thin">
                    <label>Map Images:</label><div class="input blue">To be implemented...</div>
                </div>
				
			</td>
		</tr>
	{% endfor %}
{% endblock %}

{% block no_objects %}
	{{ block.super }}
{% endblock %}